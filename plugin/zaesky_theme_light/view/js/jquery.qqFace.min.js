(function(e){e.fn.qqFace=function(t){var n={id:"facebox",path:"face/",assign:"content",tip:"em_",emoNum:"126"},o=e.extend(n,t),i=e("#"+o.assign),c=o.id,a=o.path,s=o.tip,l=o.emoNum;if(i.length<=0)return!1;e(this).click(function(t){var n,i;if(e("#"+c).length<=0){n='<div id="'+c+'" style="display:none;" class="qqFace">';for(var r=1;r<=l;r++)i="["+s+r+"]",n+='<img class="logo-2 m-2" src="'+a+r+'.png" onclick="$(\'#'+o.assign+"').insertAtCaret('"+i+"');\" />";n+="</div>"}e(".emoface").html(n);var u=e(this).position(),d=u.top+e(this).outerHeight();e("#"+c).css("top",d),e("#"+c).css("left",u.left),e("#"+c).show(500),t.stopPropagation()}),e(document).click(function(){e("#"+c).hide(),e("#"+c).remove()})}})(jQuery),jQuery.extend({unselectContents:function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}}),jQuery.fn.extend({selectContents:function(){$(this).each(function(e){var t,n,o,i,c=this;(o=c.ownerDocument)&&(i=o.defaultView)&&void 0!==i.getSelection&&void 0!==o.createRange&&(t=window.getSelection())&&void 0!==t.removeAllRanges?(n=o.createRange(),n.selectNode(c),0==e&&t.removeAllRanges(),t.addRange(n)):document.body&&void 0!==document.body.createTextRange&&(n=document.body.createTextRange())&&(n.moveToElementText(c),n.select())})},setCaret:function(){if($.browser.msie){var e=function(){var e=$(this).get(0);e.caretPos=document.selection.createRange().duplicate()};$(this).click(e).select(e).keyup(e)}},insertAtCaret:function(e){var t=$(this).get(0);if(document.all&&t.createTextRange&&t.caretPos){var n=t.caretPos;n.text=""==n.text.charAt(n.text.length-1)?e+"":e}else if(t.setSelectionRange){var o=t.selectionStart,i=t.selectionEnd,c=t.value.substring(0,o),a=t.value.substring(i);t.value=c+e+a,t.focus();var s=e.length;t.setSelectionRange(o+s,o+s),t.blur()}else t.value+=e}});